<!DOCTYPE html>
<!--
Copyright Â© 2015, by Shawn Banasick. All rights reserved.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<!--

<html manifest="qsort.appcache">
-->
<html>

<head>
    <meta charset="utf-8">

    <!-- apple viewport standalone -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- <meta name="apple-mobile-web-app-status-bar-style" content="black" />-->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


    <!-- load libraries-->
    <script type="text/javascript" src="jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="jquery.pep.js"></script>
    <script type="text/javascript" src="lodash.js"></script>
    <script type="text/javascript" src="screenlog.min.js"></script>



    <!-- prevent default scroll -->
    <script type="text/javascript">
        document.addEventListener('touchmove', function (e) {
            e.preventDefault();
        }, false);
    </script>

    <title>Q Sorter Page</title>

    <style>
        /*  *************** page specific styles*/

        .pep {
            color: #000;
            width: 138px;
            /*
        word-wrap: break-word;
        white-space: normal;
*/
            font: 15px AvenirNextCondensed-Regular;
            line-height: 1.1em;
            text-align: center;
            background-color: #cccccc;
            -webkit-border-radius: 5px;
            display: table;
            padding-left: 1px;
            padding-right: 1px;
            padding-top: 1px;
        }

        .position1 {
            position: absolute;
            left: 5px;
            top: 650px;
        }

        .position2 {
            position: absolute;
            left: 150px;
            top: 650px;
        }

        .position3 {
            position: absolute;
            left: 295px;
            top: 650px;
        }

        .pepDot {
            content: "";
            position: absolute;
            /*		height: 100%;*/
            /*		width: 20px;*/
            top: 0px;
            left: 0px;
            background-image: radial-gradient(circle at 33% 33%, #1985c5 7px, transparent 4px);
            background-size: 20px 20px;
            background-position: top left;
            background-repeat: no-repeat;
        }

        .holder {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
            width: 138px;
            height: 96px;
        }

        .holderShort {
            width: 138px;
            height: 96px;
            display: table-cell;
            text-align: center;
            vertical-align: middle;
            /*			padding-bottom: 10px;*/
        }

        #textDiv {
            position: absolute;
            display: inline-block;
            right: 67px;
            top: 670px;
            display: none;
        }

        .body37 {
            background: url(images/header-image.png) no-repeat center center fixed;
            background-size: cover;
            /*background-position: 50% 1%;*/
        }

        .body39 {
            background: url(images/header-image.png) no-repeat center center fixed;
            background-size: cover;
        }

        .body41 {
            background: url(images/header-image.png) no-repeat center center fixed;
            background-size: cover;
        }

        .grayBody37 {
            background-image: url('http://banasick.net/ken-q---client/images/37cards-retinaG.png');
            background-size: cover;
            background-repeat: no-repeat;
            /*background-position: 50% 1%;*/
        }

        .grayBody39 {
            background-size: cover;
            background-repeat: no-repeat;
        }

        .grayBody41 {
            background-image: url('http://banasick.net/ken-q---client/images/41cards-retinaG.png');
            background-size: cover;
            background-repeat: no-repeat;
        }

        .greenSortCard {
            background-color: #99cc99;
            z-index: 3;
        }

        .pinkSortCard {
            background-color: #ff9999;
            z-index: 2;
        }

        .graySortCard {
            background-color: #cccccc;
            z-index: 1;
        }
        /* *****************  end page specific styles*/

        body {
            /* On modern browsers, prevent the whole page to bounce */
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        /* Nav menu styling */

        nav {
            position: absolute;
            bottom: 5px;
            left: 240px;
            border-spacing: 0px;
            margin-top: 5px;
        }

        nav a {
            padding: 5px 15px 15px 15px;
            text-align: center;
            background-color: #1985c5;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            border: 3px solid #1985c5;
            margin-right: -4px;
            margin-left: -4px;
        }

        nav a.selected {
            background-color: white;
            color: #1985c5;
        }

        a {
            color: #2d343c;
            text-align: center;
            font-weight: bold;
            font-family: HelveticaNeue-CondensedBlack;
        }
        /* changes the color of the a links */

        .button {
            position: absolute;
            right: 61px;
            top: 665px;
            font-size: 20px;
            text-align: center;
            height: 70px;
            width: 100px;
            font-family: HelveticaNeue-CondensedBlack;
            background: #1985c5;
            border: 1px solid white;
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            -webkit-border-radius: 5px;
            color: #ffffff;
            display: none;
            padding-top: 12px;
        }

        .button:active {
            border: 3px solid #ffffff;
        }

        #delayContainer {
            display: none
        }

        .drop-target {
            /*			border: 3px solid #f5b188;*/
            height: 98px;
            width: 142px;
            position: absolute;
        }

        .drop-target.pep-dpa {
            /*			background: #ffedc4;*/
        }

        .header {
            display: table;
            text-align: center;
            position: absolute;
            height: 24px;
            width: 142px;
            top: 20px;
        }

        .header span {
            display: table-cell;
            vertical-align: middle;
            font-size: 25px;
            font-family: HelveticaNeue-CondensedBlack;
            line-height: 1.1em;
        }

        .header-bar {
            position: absolute;
            left: 0px;
            top: 45px;
            height: 3px;
            background-color: black;
            width: 100%;
        }

        .top-header-bar {
            position: absolute;
            left: 0px;
            top: 0px;
            height: 20px;
            background-color: black;
            width: 100%;
        }

        .col1 {
            left: 1px;
        }

        .col2 {
            left: 147px;
        }

        .col3 {
            left: 293px;
        }

        .col4 {
            left: 439px;
        }

        .col5 {
            left: 585px;
        }

        .col6 {
            left: 731px;
        }

        .col7 {
            left: 877px;
        }

        .minus3 {
            background-color: #ffadad;
        }

        .minus2 {
            background-color: #ffd9d9;
        }

        .minus1 {
            background-color: #ffe8e8;
        }

        .zero {
            background-color: #e3e3e3;
        }

        .plus1 {
            background-color: #e8ffe8;
        }

        .plus2 {
            background-color: #d9ffd9;
        }

        .plus3 {
            background-color: #adffad;
        }

        .row1 {
            top: 51px;
        }

        .row2 {
            top: 153px;
        }

        .row3 {
            top: 255px;
        }

        .row4 {
            top: 357px;
        }

        .row5 {
            top: 461px;
        }

        .row6 {
            top: 563px;
        }

        .row7 {
            top: 665px;
        }

        .hidden {
            display: none;
        }
        /*	todo - proper class separation and percent rather than pixels */
    </style>

</head>

<body id="sortBody">

    <div id="delayContainer">

        <div class="top-header-bar"></div>

        <div class="header col1 minus3">
            <span>
                <strong>-3</strong>
            </span>
        </div>
        <div class="header col2 minus2">
            <span>
                <strong>-2</strong>
            </span>
        </div>
        <div class="header col3 minus1">
            <span>
                <strong>-1</strong>
            </span>
        </div>
        <div class="header col4 zero">
            <span>
                <strong>0</strong>
            </span>
        </div>
        <div class="header col5 plus1">
            <span>
                <strong>+1</strong>
            </span>
        </div>
        <div class="header col6 plus2">
            <span>
                <strong>+2</strong>
            </span>
        </div>
        <div class="header col7 plus3">
            <span>
                <strong>+3</strong>
            </span>
        </div>

        <div class="header-bar"></div>

        <!--  pep drop zones-->
        <div class="drop-target row1 col1 minus3"></div>
        <div class="drop-target row1 col2 minus2"></div>
        <div class="drop-target row1 col3 minus1"></div>
        <div class="drop-target row1 col4 zero"></div>
        <div class="drop-target row1 col5 plus1"></div>
        <div class="drop-target row1 col6 plus2"></div>
        <div class="drop-target row1 col7 plus3"></div>

        <div class="drop-target row2 col1 minus3"></div>
        <div class="drop-target row2 col2 minus2"></div>
        <div class="drop-target row2 col3 minus1"></div>
        <div class="drop-target row2 col4 zero"></div>
        <div class="drop-target row2 col5 plus1"></div>
        <div class="drop-target row2 col6 plus2"></div>
        <div class="drop-target row2 col7 plus3"></div>


        <div class="drop-target row3 col1 minus3"></div>
        <div class="drop-target row3 col2 minus2"></div>
        <div class="drop-target row3 col3 minus1"></div>
        <div class="drop-target row3 col4 zero"></div>
        <div class="drop-target row3 col5 plus1"></div>
        <div class="drop-target row3 col6 plus2"></div>
        <div class="drop-target row3 col7 plus3"></div>

        <!--        <div class="drop-target row4 col1 minus3"></div>-->
        <div class="drop-target row4 col2 minus2"></div>
        <div class="drop-target row4 col3 minus1"></div>
        <div class="drop-target row4 col4 zero"></div>
        <div class="drop-target row4 col5 plus1"></div>
        <div class="drop-target row4 col6 plus2"></div>
        <!--     <div class="drop-target row4 col7 plus3"></div>-->


        <!--        <div class="drop-target row5 col1 minus3" id="dropHideRow5a"></div>-->
        <!--        <div class="drop-target row5 col2 minus2"></div>-->
        <div class="drop-target row5 col3 minus1"></div>
        <div class="drop-target row5 col4 zero"></div>
        <div class="drop-target row5 col5 plus1"></div>
        <!--
        <div class="drop-target row5 col6 plus2"></div>
        <div class="drop-target row5 col7 plus3" id="dropHideRow5b"></div>
-->

        <!--        <div class="drop-target row6 col2 minus2" id="dropHideRow6a"></div>-->
        <!--        <div class="drop-target row6 col3 minus1"></div>-->
        <div class="drop-target row6 col4 zero"></div>
        <!--        <div class="drop-target row6 col5 plus1"></div>-->
        <!--        <div class="drop-target row6 col6 plus2" id="dropHideRow6b"></div>-->

        <!--        <div class="drop-target row7 col4 zero"></div>-->



        <div class="myCards">

            <div class="pep" id="1">
                <span class="holder" id="hold1"></span>
                <script>
                    var tile1 = localStorage.getItem('state1');
                    var setBackColor = localStorage.getItem('psCard1');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("1").className += " greenSortCard";
                            document.getElementById("1").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("1").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("1").className += " graySortCard";
                    };
                    if (tile1) {
                        document.getElementById("hold1").innerHTML = tile1;
                    } else {
                        var stateNull1 = "No statement entered yet! Please input statement 1.";
                        document.getElementById("hold1").innerHTML = stateNull1;
                    }
                </script>
            </div>

            <div class="pep" id="2">
                <span class="holder" id="hold2"></span>
                <script>
                    var tile2 = localStorage.getItem('state2');
                    var setBackColor = localStorage.getItem('psCard2');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("2").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("2").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("2").className += " graySortCard";
                    };
                    if (tile2) {
                        document.getElementById("hold2").innerHTML = tile2;
                    } else {
                        var stateNull2 = "No statement entered yet! Please input statement 2.";
                        document.getElementById("hold2").innerHTML = stateNull2;
                    }
                </script>
            </div>

            <div class="pep" id="3">
                <span class="holder" id="hold3"></span>
                <script>
                    var tile3 = localStorage.getItem('state3');
                    var setBackColor = localStorage.getItem('psCard3');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("3").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("3").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("3").className += " graySortCard";
                    };
                    if (tile3) {
                        document.getElementById("hold3").innerHTML = tile3;
                    } else {
                        var stateNull3 = "No statement entered yet! Please input statement 3.";
                        document.getElementById("hold3").innerHTML = stateNull3;
                    }
                </script>
            </div>

            <div class="pep" id="4">
                <span class="holder" id="hold4"></span>
                <script>
                    var tile4 = localStorage.getItem('state4');
                    var setBackColor = localStorage.getItem('psCard4');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("4").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("4").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("4").className += " graySortCard";
                    };
                    if (tile4) {
                        document.getElementById("hold4").innerHTML = tile4;
                    } else {
                        var stateNull4 = "No statement entered yet! Please input statement 4.";
                        document.getElementById("hold4").innerHTML = stateNull4;
                    }
                </script>
            </div>

            <div class="pep" id="5">
                <span class="holder" id="hold5"></span>
                <script>
                    var tile5 = localStorage.getItem('state5');
                    var setBackColor = localStorage.getItem('psCard5');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("5").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("5").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("5").className += " graySortCard";
                    };
                    if (tile5) {
                        document.getElementById("hold5").innerHTML = tile5;
                    } else {
                        var stateNull5 = "No statement entered yet! Please input statement 5.";
                        document.getElementById("hold5").innerHTML = stateNull5;
                    }
                </script>
            </div>

            <div class="pep" id="6">
                <span class="holder" id="hold6"></span>
                <script>
                    var tile6 = localStorage.getItem('state6');
                    var setBackColor = localStorage.getItem('psCard6');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("6").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("6").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("6").className += " graySortCard";
                    };
                    if (tile6) {
                        document.getElementById("hold6").innerHTML = tile6;
                    } else {
                        var stateNull6 = "No statement entered yet! Please input statement 6.";
                        document.getElementById("hold6").innerHTML = stateNull6;
                    }
                </script>
            </div>

            <div class="pep" id="7">
                <span class="holder" id="hold7"></span>
                <script>
                    var tile7 = localStorage.getItem('state7');
                    var setBackColor = localStorage.getItem('psCard7');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("7").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("7").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("7").className += " graySortCard";
                    };
                    if (tile7) {
                        document.getElementById("hold7").innerHTML = tile7;
                    } else {
                        var stateNull7 = "No statement entered yet! Please input statement 7.";
                        document.getElementById("hold7").innerHTML = stateNull7;
                    }
                </script>
            </div>

            <div class="pep" id="8">
                <span class="holder" id="hold8"></span>
                <script>
                    var tile8 = localStorage.getItem('state8');
                    var setBackColor = localStorage.getItem('psCard8');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("8").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("8").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("8").className += " graySortCard";
                    };
                    if (tile8) {
                        document.getElementById("hold8").innerHTML = tile8;
                    } else {
                        var stateNull8 = "No statement entered yet! Please input statement 8.";
                        document.getElementById("hold8").innerHTML = stateNull8;
                    }
                </script>
            </div>

            <div class="pep" id="9">
                <span class="holder" id="hold9"></span>
                <script>
                    var tile9 = localStorage.getItem('state9');
                    var setBackColor = localStorage.getItem('psCard9');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("9").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("9").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("9").className += " graySortCard";
                    };
                    if (tile9) {
                        document.getElementById("hold9").innerHTML = tile9;
                    } else {
                        var stateNull9 = "No statement entered yet! Please input statement 9.";
                        document.getElementById("hold9").innerHTML = stateNull9;
                    }
                </script>
            </div>

            <div class="pep" id="10">
                <span class="holder" id="hold10"></span>
                <script>
                    var tile10 = localStorage.getItem('state10');
                    var setBackColor = localStorage.getItem('psCard10');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("10").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("10").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("10").className += " graySortCard";
                    };
                    if (tile10) {
                        document.getElementById("hold10").innerHTML = tile10;
                    } else {
                        var stateNull10 = "No statement entered yet! Please input statement 10.";
                        document.getElementById("hold10").innerHTML = stateNull10;
                    }
                </script>
            </div>

            <div class="pep" id="11">
                <span class="holder" id="hold11"></span>
                <script>
                    var tile11 = localStorage.getItem('state11');
                    var setBackColor = localStorage.getItem('psCard11');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("11").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("11").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("11").className += " graySortCard";
                    };
                    if (tile11) {
                        document.getElementById("hold11").innerHTML = tile11;
                    } else {
                        var stateNull11 = "No statement entered yet! Please input statement 11.";
                        document.getElementById("hold11").innerHTML = stateNull11;
                    }
                </script>
            </div>

            <div class="pep" id="12">
                <span class="holder" id="hold12"></span>
                <script>
                    var tile12 = localStorage.getItem('state12');
                    var setBackColor = localStorage.getItem('psCard12');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("12").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("12").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("12").className += " graySortCard";
                    };
                    if (tile12) {
                        document.getElementById("hold12").innerHTML = tile12;
                    } else {
                        var stateNull12 = "No statement entered yet! Please input statement 12.";
                        document.getElementById("hold12").innerHTML = stateNull12;
                    }
                </script>
            </div>

            <div class="pep" id="13">
                <span class="holder" id="hold13"></span>
                <script>
                    var tile13 = localStorage.getItem('state13');
                    var setBackColor = localStorage.getItem('psCard13');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("13").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("13").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("13").className += " graySortCard";
                    };
                    if (tile13) {
                        document.getElementById("hold13").innerHTML = tile13;
                    } else {
                        var stateNull13 = "No statement entered yet! Please input statement 13.";
                        document.getElementById("hold13").innerHTML = stateNull13;
                    }
                </script>
            </div>

            <div class="pep" id="14">
                <span class="holder" id="hold14"></span>
                <script>
                    var tile14 = localStorage.getItem('state14');
                    var setBackColor = localStorage.getItem('psCard14');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("14").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("14").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("14").className += " graySortCard";
                    };
                    if (tile14) {
                        document.getElementById("hold14").innerHTML = tile14;
                    } else {
                        var stateNull14 = "No statement entered yet! Please input statement 14.";
                        document.getElementById("hold14").innerHTML = stateNull14;
                    }
                </script>
            </div>

            <div class="pep" id="15">
                <span class="holder" id="hold15"></span>
                <script>
                    var tile15 = localStorage.getItem('state15');
                    var setBackColor = localStorage.getItem('psCard15');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("15").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("15").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("15").className += " graySortCard";
                    };
                    if (tile15) {
                        document.getElementById("hold15").innerHTML = tile15;
                    } else {
                        var stateNull15 = "No statement entered yet! Please input statement 15.";
                        document.getElementById("hold15").innerHTML = stateNull15;
                    }
                </script>
            </div>

            <div class="pep" id="16">
                <span class="holder" id="hold16"></span>
                <script>
                    var tile16 = localStorage.getItem('state16');
                    var setBackColor = localStorage.getItem('psCard16');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("16").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("16").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("16").className += " graySortCard";
                    };
                    if (tile16) {
                        document.getElementById("hold16").innerHTML = tile16;
                    } else {
                        var stateNull16 = "No statement entered yet! Please input statement 16.";
                        document.getElementById("hold16").innerHTML = stateNull16;
                    }
                </script>
            </div>

            <div class="pep" id="17">
                <span class="holder" id="hold17"></span>
                <script>
                    var tile17 = localStorage.getItem('state17');
                    var setBackColor = localStorage.getItem('psCard17');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("17").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("17").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("17").className += " graySortCard";
                    };
                    if (tile17) {
                        document.getElementById("hold17").innerHTML = tile17;
                    } else {
                        var stateNull17 = "No statement entered yet! Please input statement 17.";
                        document.getElementById("hold17").innerHTML = stateNull17;
                    }
                </script>
            </div>

            <div class="pep" id="18">
                <span class="holder" id="hold18"></span>
                <script>
                    var tile18 = localStorage.getItem('state18');
                    var setBackColor = localStorage.getItem('psCard18');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("18").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("18").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("18").className += " graySortCard";
                    };
                    if (tile18) {
                        document.getElementById("hold18").innerHTML = tile18;
                    } else {
                        var stateNull18 = "No statement entered yet! Please input statement 18.";
                        document.getElementById("hold18").innerHTML = stateNull18;
                    }
                </script>
            </div>

            <div class="pep" id="19">
                <span class="holder" id="hold19"></span>
                <script>
                    var tile19 = localStorage.getItem('state19');
                    var setBackColor = localStorage.getItem('psCard19');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("19").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("19").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("19").className += " graySortCard";
                    };
                    if (tile19) {
                        document.getElementById("hold19").innerHTML = tile19;
                    } else {
                        var stateNull19 = "No statement entered yet! Please input statement 19.";
                        document.getElementById("hold19").innerHTML = stateNull19;
                    }
                </script>
            </div>

            <div class="pep" id="20">
                <span class="holder" id="hold20"></span>
                <script>
                    var tile20 = localStorage.getItem('state20');
                    var setBackColor = localStorage.getItem('psCard20');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("20").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("20").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("20").className += " graySortCard";
                    };
                    if (tile20) {
                        document.getElementById("hold20").innerHTML = tile20;
                    } else {
                        var stateNull20 = "No statement entered yet! Please input statement 20.";
                        document.getElementById("hold20").innerHTML = stateNull20;
                    }
                </script>
            </div>

            <div class="pep" id="21">
                <span class="holder" id="hold21"></span>
                <script>
                    var tile21 = localStorage.getItem('state21');
                    var setBackColor = localStorage.getItem('psCard21');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("21").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("21").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("21").className += " graySortCard";
                    };
                    if (tile21) {
                        document.getElementById("hold21").innerHTML = tile21;
                    } else {
                        var stateNull21 = "No statement entered yet! Please input statement 21.";
                        document.getElementById("hold21").innerHTML = stateNull21;
                    }
                </script>
            </div>

            <div class="pep" id="22">
                <span class="holder" id="hold22"></span>
                <script>
                    var tile22 = localStorage.getItem('state22');
                    var setBackColor = localStorage.getItem('psCard22');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("22").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("22").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("22").className += " graySortCard";
                    };
                    if (tile22) {
                        document.getElementById("hold22").innerHTML = tile22;
                    } else {
                        var stateNull22 = "No statement entered yet! Please input statement 22.";
                        document.getElementById("hold22").innerHTML = stateNull22;
                    }
                </script>
            </div>

            <div class="pep" id="23">
                <span class="holder" id="hold23"></span>
                <script>
                    var tile23 = localStorage.getItem('state23');
                    var setBackColor = localStorage.getItem('psCard23');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("23").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("23").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("23").className += " graySortCard";
                    };
                    if (tile23) {
                        document.getElementById("hold23").innerHTML = tile23;
                    } else {
                        var stateNull23 = "No statement entered yet! Please input statement 23.";
                        document.getElementById("hold23").innerHTML = stateNull23;
                    }
                </script>
            </div>

            <div class="pep remove23" id="24">
                <span class="holder" id="hold24"></span>
                <script>
                    var tile24 = localStorage.getItem('state24');
                    var setBackColor = localStorage.getItem('psCard24');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("24").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("24").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("24").className += " graySortCard";
                    };
                    if (tile24) {
                        document.getElementById("hold24").innerHTML = tile24;
                    } else {
                        var stateNull24 = "No statement entered yet! Please input statement 24.";
                        document.getElementById("hold24").innerHTML = stateNull24;
                    }
                </script>
            </div>

            <div class="pep remove23" id="25">
                <span class="holder" id="hold25"></span>
                <script>
                    var tile25 = localStorage.getItem('state25');
                    var setBackColor = localStorage.getItem('psCard25');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("25").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("25").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("25").className += " graySortCard";
                    };
                    if (tile25) {
                        document.getElementById("hold25").innerHTML = tile25;
                    } else {
                        var stateNull25 = "No statement entered yet! Please input statement 25.";
                        document.getElementById("hold25").innerHTML = stateNull25;
                    }
                </script>
            </div>

            <div class="pep remove23" id="26">
                <span class="holder" id="hold26"></span>
                <script>
                    var tile26 = localStorage.getItem('state26');
                    var setBackColor = localStorage.getItem('psCard26');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("26").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("26").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("26").className += " graySortCard";
                    };
                    if (tile26) {
                        document.getElementById("hold26").innerHTML = tile26;
                    } else {
                        var stateNull26 = "No statement entered yet! Please input statement 26.";
                        document.getElementById("hold26").innerHTML = stateNull26;
                    }
                </script>
            </div>

            <div class="pep remove23" id="27">
                <span class="holder" id="hold27"></span>
                <script>
                    var tile27 = localStorage.getItem('state27');
                    var setBackColor = localStorage.getItem('psCard27');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("27").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("27").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("27").className += " graySortCard";
                    };
                    if (tile27) {
                        document.getElementById("hold27").innerHTML = tile27;
                    } else {
                        var stateNull27 = "No statement entered yet! Please input statement 27.";
                        document.getElementById("hold27").innerHTML = stateNull27;
                    }
                </script>
            </div>

            <div class="pep remove23" id="28">
                <span class="holder" id="hold28"></span>
                <script>
                    var tile28 = localStorage.getItem('state28');
                    var setBackColor = localStorage.getItem('psCard28');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("28").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("28").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("28").className += " graySortCard";
                    };
                    if (tile28) {
                        document.getElementById("hold28").innerHTML = tile28;
                    } else {
                        var stateNull28 = "No statement entered yet! Please input statement 28.";
                        document.getElementById("hold28").innerHTML = stateNull28;
                    }
                </script>
            </div>

            <div class="pep remove23" id="29">
                <span class="holder" id="hold29"></span>
                <script>
                    var tile29 = localStorage.getItem('state29');
                    var setBackColor = localStorage.getItem('psCard29');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("29").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("29").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("29").className += " graySortCard";
                    };
                    if (tile29) {
                        document.getElementById("hold29").innerHTML = tile29;
                    } else {
                        var stateNull29 = "No statement entered yet! Please input statement 29.";
                        document.getElementById("hold29").innerHTML = stateNull29;
                    }
                </script>
            </div>


            <div class="pep remove23" id="30">
                <span class="holder" id="hold30"></span>
                <script>
                    var tile30 = localStorage.getItem('state30');
                    var setBackColor = localStorage.getItem('psCard30');
                    if (setBackColor) {
                        if (setBackColor == "green") {
                            document.getElementById("30").className += " greenSortCard";
                        };
                        if (setBackColor == "pink") {
                            document.getElementById("30").className += " pinkSortCard";
                        };
                    } else {
                        document.getElementById("30").className += " graySortCard";
                    };
                    if (tile30) {
                        document.getElementById("hold30").innerHTML = tile30;
                    } else {
                        var stateNull30 = "No statement entered yet! Please input statement 30.";
                        document.getElementById("hold30").innerHTML = stateNull30;
                    }
                </script>
            </div>

            <!--
<div class="pep remove23" id="31">
    <span class="holder" id="hold31"></span>
    <script>
        var tile31 = localStorage.getItem('state31');
        var setBackColor = localStorage.getItem('psCard31');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("31").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("31").className += " pinkSortCard";
            };
        } else {
            document.getElementById("31").className += " graySortCard";
        };
        if (tile31) {
            document.getElementById("hold31").innerHTML = tile31;
        } else {
            var stateNull31 = "No statement entered yet! Please input statement 31.";
            document.getElementById("hold31").innerHTML = stateNull31;
        }
    </script>
</div>

<div class="pep remove23" id="32">
    <span class="holder" id="hold32"></span>
    <script>
        var tile32 = localStorage.getItem('state32');
        var setBackColor = localStorage.getItem('psCard32');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("32").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("32").className += " pinkSortCard";
            };
        } else {
            document.getElementById("32").className += " graySortCard";
        };
        if (tile32) {
            document.getElementById("hold32").innerHTML = tile32;
        } else {
            var stateNull32 = "No statement entered yet! Please input statement 32.";
            document.getElementById("hold32").innerHTML = stateNull32;
        }
    </script>
</div>

<div class="pep remove23" id="33">
    <span class="holder" id="hold33"></span>
    <script>
        var tile33 = localStorage.getItem('state33');
        var setBackColor = localStorage.getItem('psCard33');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("33").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("33").className += " pinkSortCard";
            };
        } else {
            document.getElementById("33").className += " graySortCard";
        };
        if (tile33) {
            document.getElementById("hold33").innerHTML = tile33;
        } else {
            var stateNull33 = "No statement entered yet! Please input statement 33.";
            document.getElementById("hold33").innerHTML = stateNull33;
        }
    </script>
</div>

<div class="pep remove23" id="34">
    <span class="holder" id="hold34"></span>
    <script>
        var tile34 = localStorage.getItem('state34');
        var setBackColor = localStorage.getItem('psCard34');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("34").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("34").className += " pinkSortCard";
            };
        } else {
            document.getElementById("34").className += " graySortCard";
        };
        if (tile34) {
            document.getElementById("hold34").innerHTML = tile34;
        } else {
            var stateNull34 = "No statement entered yet! Please input statement 34.";
            document.getElementById("hold34").innerHTML = stateNull34;
        }
    </script>
</div>

<div class="pep remove23" id="35">
    <span class="holder" id="hold35"></span>
    <script>
        var tile35 = localStorage.getItem('state35');
        var setBackColor = localStorage.getItem('psCard35');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("35").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("35").className += " pinkSortCard";
            };
        } else {
            document.getElementById("35").className += " graySortCard";
        };
        if (tile35) {
            document.getElementById("hold35").innerHTML = tile35;
        } else {
            var stateNull35 = "No statement entered yet! Please input statement 35.";
            document.getElementById("hold35").innerHTML = stateNull35;
        }
    </script>
</div>

<div class="pep remove23" id="36">
    <span class="holder" id="hold36"></span>
    <script>
        var tile36 = localStorage.getItem('state36');
        var setBackColor = localStorage.getItem('psCard36');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("36").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("36").className += " pinkSortCard";
            };
        } else {
            document.getElementById("36").className += " graySortCard";
        };
        if (tile36) {
            document.getElementById("hold36").innerHTML = tile36;
        } else {
            var stateNull36 = "No statement entered yet! Please input statement 36.";
            document.getElementById("hold36").innerHTML = stateNull36;
        }
    </script>
</div>


<div class="pep remove23" id="37">
    <span class="holder" id="hold37"></span>
    <script>
        var tile37 = localStorage.getItem('state37');
        var setBackColor = localStorage.getItem('psCard37');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("37").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("37").className += " pinkSortCard";
            };
        } else {
            document.getElementById("37").className += " graySortCard";
        };
        if (tile37) {
            document.getElementById("hold37").innerHTML = tile37;
        } else {
            var stateNull37 = "No statement entered yet! Please input statement 37.";
            document.getElementById("hold37").innerHTML = stateNull37;
        }
    </script>
</div>

<div class="pep remove23" id="38">
    <span class="holder" id="hold38"></span>
    <script>
        var tile38 = localStorage.getItem('state38');
        var setBackColor = localStorage.getItem('psCard38');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("38").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("38").className += " pinkSortCard";
            };
        } else {
            document.getElementById("38").className += " graySortCard";
        };
        if (tile38) {
            document.getElementById("hold38").innerHTML = tile38;
        } else {
            var stateNull38 = "No statement entered yet! Please input statement 38.";
            document.getElementById("hold38").innerHTML = stateNull38;
        }
    </script>
</div>

<div class="pep remove23" id="39">
    <span class="holder" id="hold39"></span>
    <script>
        var tile39 = localStorage.getItem('state39');
        var setBackColor = localStorage.getItem('psCard39');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("39").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("39").className += " pinkSortCard";
            };
        } else {
            document.getElementById("39").className += " graySortCard";
        };
        if (tile39) {
            document.getElementById("hold39").innerHTML = tile39;
        } else {
            var stateNull39 = "No statement entered yet! Please input statement 39.";
            document.getElementById("hold39").innerHTML = stateNull39;
        }
    </script>
</div>

<div class="pep remove23" id="40">
    <span class="holder" id="hold40"></span>
    <script>
        var tile40 = localStorage.getItem('state40');
        var setBackColor = localStorage.getItem('psCard40');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("40").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("40").className += " pinkSortCard";
            };
        } else {
            document.getElementById("40").className += " graySortCard";
        };
        if (tile40) {
            document.getElementById("hold40").innerHTML = tile40;
        } else {
            var stateNull40 = "No statement entered yet! Please input statement 40.";
            document.getElementById("hold40").innerHTML = stateNull40;
        }
    </script>
</div>

<div class="pep remove 23" id="41">
    <span class="holder" id="hold41"></span>
    <script>
        var tile41 = localStorage.getItem('state41');
        var setBackColor = localStorage.getItem('psCard41');
        if (setBackColor) {
            if (setBackColor == "green") {
                document.getElementById("41").className += " greenSortCard";
            };
            if (setBackColor == "pink") {
                document.getElementById("41").className += " pinkSortCard";
            };
        } else {
            document.getElementById("41").className += " graySortCard";
        };
        if (tile41) {
            document.getElementById("hold41").innerHTML = tile41;
        } else {
            var stateNull41 = "No statement entered yet! Please input statement 41.";
            document.getElementById("hold41").innerHTML = stateNull41;
        }
    </script>
</div>-->


        </div>
        <!-- end of mycards div -->




        <!-- detach elements by sort type -->
        <script type="text/javascript">
            //            (function() {
            //                var activeRadioValue = localStorage.getItem("activeRadio");
            //                var shouldUseColorGrid = localStorage.getItem("useColorGrid");
            //
            //                if ($('body').hasClass('body37')) {
            //                    $('body').removeClass('body37');
            //                };
            //                if ($('body').hasClass('body39')) {
            //                    $('body').removeClass('body39');
            //                };
            //                if ($('body').hasClass('body41')) {
            //                    $('body').removeClass('body41');
            //                };
            //                if ($('body').hasClass('grayBody37')) {
            //                    $('body').removeClass('grayBody37');
            //                };
            //                if ($('body').hasClass('grayBody39')) {
            //                    $('body').removeClass('grayBody39');
            //                };
            //                if ($('body').hasClass('grayBody41')) {
            //                    $('body').removeClass('grayBody41');
            //                };
            //
            //                console.log(shouldUseColorGrid);
            //                if (shouldUseColorGrid === "yes") {
            //
            //                    console.log("yes branch");
            //
            //                    switch (activeRadioValue) {
            //                        case "state41":
            //                            $('div.myCards div').removeClass('holder').addClass('holderShort');
            //                            $('body').addClass('body41');
            //                            console.log("display 41 color");
            //                            break;
            //                        case "state39":
            //                            $("#40, #41, #dropHideRow6a, #dropHideRow6b").remove();
            //                            $('body').addClass('body39');
            //                            console.log("display 39 color");
            //                            break;
            //                        default:
            //                            $("#38, #39, #40, #41, #dropHideRow5a, #dropHideRow5b, #dropHideRow6a, #dropHideRow6b").remove();
            //                            $('body').addClass('body37');
            //                            console.log("display 37 color");
            //                    }; // end switch
            //                } else {
            //                    console.log("gray branch");
            //                    switch (activeRadioValue) {
            //                        case "state41":
            //                            $('div.myCards div').removeClass('holder').addClass('holderShort');
            //                            $('body').addClass('grayBody41');
            //                            console.log("display 41 gray");
            //                            break;
            //                        case "state39":
            //                            $("#40, #41, #dropHideRow6a, #dropHideRow6b").remove();
            //                            $('body').addClass('grayBody39');
            //                            console.log("display 39 gray");
            //                            break;
            //                        default:
            //                            $("#38, #39, #40, #41, #dropHideRow5a, #dropHideRow5b, #dropHideRow6a, #dropHideRow6b").remove();
            //                            $('body').addClass('grayBody37');
            //                            console.log("display 37 gray");
            //                    }; // end switch
            //                }
            //            })();
        </script>

        <!-- Randomize the order and position of the statement cards -->
        <script type="text/javascript">
            var statementPositions = new Array('position1', 'position2', 'position3');
            var statementPostiionlength = statementPositions.length;
            $("div.myCards div").sort(function () {
                return Math.random() * 10 > 5 ? 1 : -1;
            }).each(function () {
                $(this).addClass(statementPositions[Math.floor(Math.random() * statementPostiionlength)]).appendTo(
                    $(this).parent());
            });
        </script>


        <!-- respondent code display-->
        <div id="textDiv"></div>
        <script>
            (function () {
                var sortRespondentId = localStorage.getItem("respondentCodeId");
                $('#textDiv').append(sortRespondentId);
            })();
        </script>


        <!-- Toggle the nav menu - button -->
        <div class="button" id="finishButton">Confirm
            <br>Positions</div>

        <nav>
            <a href="information.html">Information</a>
            <a style=" background-color: white; color: #1985c5;" href="controls.html">Controls</a>
            <a href="statements.html">Q Statements</a>
            <a href="presort.html">Presort</a>
            <a href="qsort.html">Sort</a>
            <a class="stay" href="finalQuestions2.html">Controls</a>
            <a href="postsort2.html">Postsort</a>
        </nav>

    </div>
    <!-- end of delay fadeIn div   -->

    <!--</body>-->

    <script>
        // stay standalone
        //https://github.com/mrmoses/jQuery.stayInWebApp
        (function ($) {
            $.extend({
                stayInWebApp: function (b) {
                    "standalone" in window.navigator && window.navigator.standalone && (b || (b = "a"),
                        $("body").delegate(b, "touchstart", function (b) {
                            if ($(this).attr("target") == void 0 || $(this).attr("target") ==
                                "" || $(this).attr("target") == "_self") {
                                var c = $(this).attr("href");
                                if (!c.match(/^http(s?)/g)) b.preventDefault(), self.location =
                                    c
                            }
                        }))
                }
            })
        })(jQuery);
        $(function () {
            $.stayInWebApp('a.stay');
        });
        // This use only links with the class stay.
        // $(function() { $.stayInWebApp('a.stay');});
        // end stay standalone
    </script>

    <script>
        // lodash helper script for sorting
        sortByName = function (array) {
            return _.sortBy(array, "card");
        };


        // <!-- get results, set draggable, enable transparent after drag -->
        $(document).ready(function () {

            // screenLog.init();

            $("#delayContainer").fadeIn(500);
            $("nav").hide();

            var sortResults = [];


            function single_tap() {};

            function double_tap() {

                var findGreenPrep = _.filter(sortResults, {
                    'pos': 3
                });
                var findGreenPrep2 = sortByName(findGreenPrep);
                var findGreenPrep3 = _.pluck(findGreenPrep2, 'card');
                localStorage.setItem("greenReview", JSON.stringify(findGreenPrep3));
                // alert(JSON.stringify(findGreenPrep3));

                var findGrayPrep = _.filter(sortResults, {
                    'pos': 0
                });
                var findGrayPrep2 = sortByName(findGrayPrep);
                var findGrayPrep3 = _.pluck(findGrayPrep2, 'card');
                localStorage.setItem("grayReview", JSON.stringify(findGrayPrep3));

                var findPinkPrep = _.filter(sortResults, {
                    'pos': -3
                });
                var findPinkPrep2 = sortByName(findPinkPrep);
                var findPinkPrep3 = _.pluck(findPinkPrep2, 'card');
                localStorage.setItem("pinkReview", JSON.stringify(findPinkPrep3));

                localStorage.removeItem("responseGreenState1");
                localStorage.removeItem("responseGrayState1");
                localStorage.removeItem("responsePinkState1");


                $('.stay').trigger('touchstart'); // go to next page                
                // $('nav a:nth-child(6)').trigger('touchstart'); // go to next page
                // alert("function call");
            }; // ****  End finish button touchstart ******


            var tapped = false;

            $("#finishButton").on("touchstart", function (e) {
                if (!tapped) {
                    tapped = setTimeout(function () {
                        single_tap()
                        tapped = null
                    }, 300); //wait 300ms
                } else {
                    clearTimeout(tapped);
                    tapped = null
                    double_tap()
                }
                e.preventDefault()
            });


            $('.pep').pep({
                useCSSTranslation: false,
                constrainTo: 'window',
                droppable: '.drop-target',
                overlapFunction: false,
                start: function (ev, obj) {
                    obj.noCenter = false;
                },
                drag: function (ev, obj) {
                    var vel = obj.velocity();
                    var rot = (vel.x) / 5;
                    // rotate(obj.$el, rot)
                },
                stop: function (ev, obj) {
                    // rotate(obj.$el, 0)
                },
                rest: handleCentering
            }); // end pep controls

            // pep functionality
            function handleCentering(ev, obj) {
                if (obj.activeDropRegions.length > 0) {
                    centerWithin(obj);
                }
            }
            // pep functionality
            function centerWithin(obj) {
                var $parent = obj.activeDropRegions[0];
                var pTop = $parent.position().top;
                var pLeft = $parent.position().left;
                var pHeight = $parent.outerHeight();
                var pWidth = $parent.outerWidth();

                var oTop = obj.$el.position().top;
                var oLeft = obj.$el.position().left;
                var oHeight = obj.$el.outerHeight();
                var oWidth = obj.$el.outerWidth();

                var cTop = pTop + (pHeight / 2);
                var cLeft = pLeft + (pWidth / 2);

                if (!obj.noCenter) {
                    if (!obj.shouldUseCSSTranslation()) {
                        var moveTop = cTop - (oHeight / 2);
                        var moveLeft = cLeft - (oWidth / 2);
                        obj.$el.animate({
                            top: moveTop,
                            left: moveLeft
                        }, 50);
                    } else {
                        var moveTop = (cTop - oTop) - oHeight / 2;
                        var moveLeft = (cLeft - oLeft) - oWidth / 2;

                        obj.moveToUsingTransforms(moveTop, moveLeft);
                    }

                    obj.noCenter = true;
                    return;
                }

                obj.noCenter = false;
            }

            // pep functionality
            function rotate($obj, deg) {
                $obj.css({
                    "-webkit-transform": "rotate(" + deg + "deg)",
                    "-moz-transform": "rotate(" + deg + "deg)",
                    "-ms-transform": "rotate(" + deg + "deg)",
                    "-o-transform": "rotate(" + deg + "deg)",
                    "transform": "rotate(" + deg + "deg)"
                });
            }

            $("div.myCards div").on('touchmove', function (e) {
                $(this).addClass('pepDot');
            });

            $("div.myCards div").on('touchend', function (e) {
                $(this).css('background-color', 'transparent');
                $(this).removeClass('pepDot');

                var both = undefined;
                var result = undefined;
                var result2 = undefined;
                var results = undefined;
                var positionCounts = undefined;
                localStorage.setItem("sortResults2", "");
                localStorage.setItem("theResults", "");
                var getSortResults2 = undefined;
                while (sortResults.length > 0) {
                    sortResults.pop();
                }; // empty array


                $("div.myCards div").each(function () {
                    var p = $(this);
                    var position = p.position(); // position is this.position
                    var loc = position.left;
                    if (loc < 74) {
                        qValue = -3;
                    } else if (loc > 73 && loc < 219) {
                        qValue = -2;
                    } else if (loc > 218 && loc < 364) {
                        qValue = -1;
                    } else if (loc > 363 && loc < 509) {
                        qValue = +0;
                    } else if (loc > 508 && loc < 654) {
                        qValue = +1;
                    } else if (loc > 653 && loc < 819) {
                        qValue = +2;
                    } else {
                        qValue = +3;
                    };
                    var statementId = $(this).attr('id');
                    var statementIdNumber = parseInt(statementId);

                    var both = {};
                    both.card = statementIdNumber;
                    both.pos = qValue;
                    sortResults.push(both);
                    // console.log(JSON.stringify(sortResults));
                    localStorage.setItem("sortResults2", JSON.stringify(sortResults));
                }); // end  each function of myCards

                var getSortResults2 = JSON.parse(localStorage.getItem("sortResults2"));
                var result = _.pluck(getSortResults2, 'pos');
                var result2 = sortByName(sortResults);
                // console.log(JSON.stringify(result));
                var positionCounts = _.countBy(result2, 'pos');
                // console.log(JSON.stringify(positionCounts)); // this works but clear!
                var results = _.pluck(result2, 'pos');
                localStorage.setItem("theResults", JSON.stringify(results));
                for (var ii = 0, iiLen = results.length; ii < iiLen; ii++) {
                    if (results[ii] > -1) {
                        results[ii] = "+" + results[ii];
                    }
                }
                var resultsAsString = results.toString();
                // console.log(JSON.stringify(resultsAsString));
                localStorage.setItem("resultsAsString", resultsAsString);


                var activeRadioValueFinishDisplay = localStorage.getItem("activeRadio");
                switch (activeRadioValueFinishDisplay) {
                    case "state41":
                        var arrayCheck41 = {
                            "0": 7,
                            "1": 6,
                            "2": 6,
                            "3": 5,
                            "-3": 5,
                            "-2": 6,
                            "-1": 6
                        };
                        if (_.isEqual(positionCounts, arrayCheck41)) {
                            $("#finishButton, #textDiv").show();
                        } else {
                            $("#finishButton, #textDiv").show();
                        };
                        break;
                    case "state39":
                        var arrayCheck39 = {
                            "0": 7,
                            "1": 6,
                            "2": 5,
                            "3": 5,
                            "-3": 5,
                            "-2": 5,
                            "-1": 6
                        };
                        if (_.isEqual(positionCounts, arrayCheck39)) {
                            $("#finishButton, #textDiv").show();
                        } else {
                            $("#finishButton, #textDiv").show();
                        };
                        break;
                    default:
                        var arrayCheck37 = {
                            "0": 6,
                            "1": 5,
                            "2": 4,
                            "3": 3,
                            "-3": 3,
                            "-2": 4,
                            "-1": 5
                        };
                        if (_.isEqual(positionCounts, arrayCheck37)) {
                            $("#finishButton, #textDiv").show();
                        } else {
                            $("#finishButton, #textDiv").hide();
                        };
                }; // end switch

            }); // end of touchend function


        }); // end of document ready function
    </script>



</body>

</html>